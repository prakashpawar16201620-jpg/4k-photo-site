<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>4K Photo Upscaler</title>
<style>
body{font-family:Arial;padding:16px;max-width:720px;margin:auto}
input,button{font-size:16px;padding:10px;margin:6px 0;width:100%}
img{max-width:100%;height:auto;margin-top:10px;border:1px solid #ddd}
</style>
</head>
<body>
<h2>üì∏ 4K Photo Upscaler</h2>
<p>Upload ‡§ï‡§∞‡•ã ‡§î‡§∞ 4K ‡§´‡•ã‡§ü‡•ã ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•ã‡•§</p>

<input id="file" type="file" accept="image/*">
<button id="upload">Upload & Convert to 4K</button>
<div id="status"></div>
<div id="result"></div>

<script>
const BACKEND_URL = "http://localhost:8080/process"; // Backend URL

document.getElementById('upload').onclick = async () => {
  const f = document.getElementById('file').files[0];
  if(!f){ alert('‡§™‡§π‡§≤‡•á ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•ã'); return; }
  document.getElementById('status').innerText = 'Processing...';
  const fd = new FormData();
  fd.append('photo', f);

  try {
    const resp = await fetch(BACKEND_URL, {method:'POST', body:fd});
    if(!resp.ok) throw new Error('Server error');
    const blob = await resp.blob();
    const url = URL.createObjectURL(blob);
    document.getElementById('result').innerHTML = `
      <p>4K Ready ‚Äî ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•ã:</p>
      <a href="${url}" download="photo_4k.jpg">Download 4K Photo</a>
      <br><img src="${url}" alt="4K preview">
    `;
    document.getElementById('status').innerText = 'Done!';
  } catch(e) {
    console.error(e);
    document.getElementById('status').innerText = 'Error: ' + e.message;
  }
};
</script>
</body>
</html>
